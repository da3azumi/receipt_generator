<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard — Receipts</title>
  <style>
    :root{
      --bg:#0f1724;
      --card-grad-start:#7c3aed; /* purple */
      --card-grad-end:#06b6d4;   /* cyan */
      --muted: rgba(255,255,255,0.75);
      --glass: rgba(255,255,255,0.04);
      --accent: rgba(255,255,255,0.12);
      --radius: 14px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071033 0%, #071e3a 100%);color:var(--muted);}
    .container{
      max-width:1100px;margin:36px auto;padding:28px;
    }

    header{
      display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:22px;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
    }
    .logo{
      width:56px;height:56px;background:linear-gradient(135deg,var(--card-grad-start),var(--card-grad-end));border-radius:12px;display:grid;place-items:center;box-shadow: 0 6px 20px rgba(4,8,20,0.6);
    }
    .logo svg{width:30px;height:30px;filter:drop-shadow(0 2px 6px rgba(0,0,0,0.4));}
    h1{font-size:20px;margin:0;color:white}
    p.lead{margin:0;color:var(--muted);opacity:0.9}

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
      gap:18px;
      margin-top:18px;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: var(--radius);
      padding:18px;
      display:flex;
      align-items:center;
      gap:12px;
      position:relative;
      overflow:hidden;
      text-decoration:none;
      color:inherit;
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      transition: transform .15s ease, box-shadow .15s ease;
      border: 1px solid rgba(255,255,255,0.04);
    }
    .card:hover{ transform: translateY(-6px); box-shadow: 0 18px 40px rgba(2,6,23,0.7); }
    .card .icon-wrap{
      width:72px;height:72px;border-radius:12px;display:grid;place-items:center;
      background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      flex: 0 0 72px;
    }
    .card h3{margin:0;font-size:16px;color:white}
    .card p{margin:4px 0 0 0;color:var(--muted);font-size:13px;line-height:1.25}

    /* decorative gradient "badge" on right */
    .card::after{
      content:"";
      position:absolute;right:-40px;top:-40px;width:180px;height:180px;border-radius:50%;
      background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.02), transparent 30%),
                 linear-gradient(135deg,var(--card-grad-start),var(--card-grad-end));
      transform: rotate(25deg);
      opacity:0.12;
      pointer-events:none;
    }

    /* small helper */
    .muted-sm{font-size:12px;color:var(--muted);opacity:0.9}

    /* responsive tweaks */
    @media (max-width:520px){
      .logo{width:48px;height:48px}
      .card{padding:14px}
      .card .icon-wrap{width:56px;height:56px;flex:0 0 56px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <img src="{{ url_for('static', filename='logo1.png') }}" alt="Logo" class="logo">
          <!-- small receipt icon -->
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M4 3h12v6H4z" fill="white" opacity="0.95"/>
            <path d="M4 9v10a1 1 0 0 0 1 1h10" stroke="white" stroke-opacity="0.85" stroke-width="0.8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7 5h6M7 7h6" stroke="rgba(0,0,0,0.5)" stroke-width="0.6" stroke-linecap="round"/>
          </svg>
        </div>
        <div>
          <h1>Flexmate Invoice Generator</h1>
          <p class="lead">Welcome back{% if user_name %}, <strong style="color:#fff;margin-left:6px">{{ user_name }}</strong>{% endif %} — quick actions below</p>
        </div>
      </div>

      <div class="muted-sm" aria-hidden="true">v1.0</div>
    </header>

    <main>
      <div class="grid" role="list">
        <!-- Card 1: Templates (choose link based on templates_exists) -->
        {% if templates_exists %}
        <a role="listitem" class="card" href="{{ url_for('templates') }}" title="Open receipt templates" aria-label="Open receipt templates">
        {% else %}
        <a role="listitem" class="card" href="{{ url_for('new_receipt') }}" title="Create a new receipt" aria-label="Create a new receipt">
        {% endif %}
          <div class="icon-wrap" aria-hidden="true">
            <!-- templates icon -->
            <svg viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg" fill="none">
              <rect x="3" y="4" width="14" height="14" rx="2" fill="white" opacity="0.95"/>
              <path d="M8 8h6M8 11h6" stroke="rgba(0,0,0,0.4)" stroke-width="0.8" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Receipt Templates</h3>
            <p>Choose from saved templates or pick a style to start quickly.</p>
          </div>
        </a>

        <!-- Card 2: New receipt -->
        <a class="card" href="{{ url_for('new_receipt') }}" title="Create a new receipt" aria-label="Create a new receipt" role="listitem">
          <div class="icon-wrap" aria-hidden="true">
            <!-- new receipt / plus icon -->
            <svg viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg" fill="none">
              <rect x="4" y="3" width="14" height="14" rx="2" fill="white" opacity="0.95" />
              <path d="M12 7v6M9 10h6" stroke="rgba(0,0,0,0.45)" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div>
            <h3>New Receipt</h3>
            <p>Create a fresh receipt — fast entry, save and download as PDF.</p>
          </div>
        </a>

        <!-- Card 3: Recent receipts (example) -->
        <a class="card" href="{{ url_for('recent_receipts') }}" title="Recent receipts" aria-label="Recent receipts" role="listitem">
          <div class="icon-wrap" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg" fill="none">
              <circle cx="12" cy="12" r="9" fill="white" opacity="0.95"/>
              <path d="M10 8h4v5" stroke="rgba(0,0,0,0.45)" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div>
            <h3>Recent Receipts</h3>
            <p>View, edit or resend receipts you created recently.</p>
          </div>
        </a>

        <!-- Card 4: Settings -->
        <a class="card" href="{{ url_for('settings') }}" title="Settings" aria-label="Settings" role="listitem">
          <div class="icon-wrap" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="3" fill="white" opacity="0.95"/>
              <path d="M8 12h8M12 8v8" stroke="rgba(0,0,0,0.45)" stroke-width="0.9" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Settings</h3>
            <p>Manage business details, logo, and export options.</p>
          </div>
        </a>
      </div>
    </main>
  </div>
</body>
</html>
